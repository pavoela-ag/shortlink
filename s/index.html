<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Redirect...</title>
  <script>
    async function go() {
      const slug = window.location.pathname.split("/").pop()
      try {
        const res = await fetch("../shorts/" + slug + ".json")
        if (!res.ok) throw new Error("Shortlink tidak ditemukan")
        const data = await res.json()
        window.location.href = data.url
      } catch (e) {
        document.body.innerHTML = "<h1>Shortlink tidak ditemukan ðŸ˜¢</h1>"
      }
    }
    go()
  </script>
</head>
<body>
  <p>Sedang mengalihkan...</p>
</body>
</html>
